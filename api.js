!function(){"use strict";var e="undefined"!=typeof document?document.currentScript:null;const t={equals:(e,t)=>e===t};let r=C;const n=1,o=2,s={owned:null,cleanups:null,context:null,owner:null},a={};var i=null;let c,l=null,u=null,d=null,f=null,h=0;function p(e,r){const n={value:e,observers:null,observerSlots:null,comparator:(r=r?Object.assign({},t,r):t).equals||void 0};return[x.bind(n),e=>("function"==typeof e&&(e=e(n.value)),E(n,e))]}function g(e,t,r){R(_(e,t,!0,n))}function y(e,t,r){R(_(e,t,!1,n))}function w(e,t,o){r=I;const s=_(e,t,!1,n);s.user=!0,f?f.push(s):R(s)}function b(e,r,n){n=n?Object.assign({},t,n):t;const o=_(e,r,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,R(o),x.bind(o)}function v(e,t,r){let n,o,s;"function"==typeof t?(n=e,o=t,s={}):(n=!0,o=e,s=t||{});let i=null,l=a,d=!1,f="initialValue"in s,h="function"==typeof n&&b(n);const y=new Set,[w,v]=(s.storage||p)(s.initialValue),[k,x]=p(void 0),[E,R]=p(void 0,{equals:!1}),[_,S]=p(f?"ready":"unresolved");function C(e,t,r,n){return i===e&&(i=null,void 0!==n&&(f=!0),e!==l&&t!==l||!s.onHydrated||queueMicrotask((()=>s.onHydrated(n,{value:t}))),l=a,function(e,t){A((()=>{void 0===t&&v((()=>e)),S(void 0!==t?"errored":f?"ready":"unresolved"),x(t);for(const e of y.keys())e.decrement();y.clear()}),!1)}(t,r)),t}function I(){const e=c,t=w(),r=k();if(void 0!==r&&!i)throw r;return u&&!u.user&&e&&g((()=>{E(),i&&(e.resolved||y.has(e)||(e.increment(),y.add(e)))})),t}function T(e=!0){if(!1!==e&&d)return;d=!1;const t=h?h():n;if(null==t||!1===t)return void C(i,m(w));const r=l!==a?l:m((()=>o(t,{value:w(),refetching:e})));return(s=r)&&"object"==typeof s&&"then"in s?(i=r,"value"in r?("success"===r.status?C(i,r.value,void 0,t):C(i,void 0,O(r.value),t),r):(d=!0,queueMicrotask((()=>d=!1)),A((()=>{S(f?"refreshing":"pending"),R()}),!1),r.then((e=>C(r,e,void 0,t)),(e=>C(r,void 0,O(e),t))))):(C(i,r,void 0,t),r);var s}return Object.defineProperties(I,{state:{get:()=>_()},error:{get:()=>k()},loading:{get(){const e=_();return"pending"===e||"refreshing"===e}},latest:{get(){if(!f)return I();const e=k();if(e&&!i)throw e;return w()}}}),h?g((()=>T(!1))):T(!1),[I,{refetch:T,mutate:v}]}function m(e){if(null===u)return e();const t=u;u=null;try{return e()}finally{u=t}}function k(e){const t=b(e),r=b((()=>$(t())));return r.toArray=()=>{const e=r();return Array.isArray(e)?e:null!=e?[e]:[]},r}function x(){if(this.sources&&this.state)if(this.state===n)R(this);else{const e=d;d=null,A((()=>T(this)),!1),d=e}if(u){const e=this.observers?this.observers.length:0;u.sources?(u.sources.push(this),u.sourceSlots.push(e)):(u.sources=[this],u.sourceSlots=[e]),this.observers?(this.observers.push(u),this.observerSlots.push(u.sources.length-1)):(this.observers=[u],this.observerSlots=[u.sources.length-1])}return this.value}function E(e,t,r){let o=e.value;return e.comparator&&e.comparator(o,t)||(e.value=t,e.observers&&e.observers.length&&A((()=>{for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t],o=l&&l.running;o&&l.disposed.has(r),(o?r.tState:r.state)||(r.pure?d.push(r):f.push(r),r.observers&&L(r)),o||(r.state=n)}if(d.length>1e6)throw d=[],new Error}),!1)),t}function R(e){if(!e.fn)return;N(e);const t=h;!function(e,t,r){let o;const s=i,a=u;u=i=e;try{o=e.fn(t)}catch(c){return e.pure&&(e.state=n,e.owned&&e.owned.forEach(N),e.owned=null),e.updatedAt=r+1,U(c)}finally{u=a,i=s}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?E(e,o):e.value=o,e.updatedAt=r)}(e,e.value,t)}function _(e,t,r,o=n,a){const c={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:i,context:i?i.context:null,pure:r};return null===i||i!==s&&(i.owned?i.owned.push(c):i.owned=[c]),c}function S(e){if(0===e.state)return;if(e.state===o)return T(e);if(e.suspense&&m(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<h);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if((e=t[r]).state===n)R(e);else if(e.state===o){const r=d;d=null,A((()=>T(e,t[0])),!1),d=r}}function A(e,t){if(d)return e();let n=!1;t||(d=[]),f?n=!0:f=[],h++;try{const t=e();return function(e){d&&(C(d),d=null);if(e)return;const t=f;f=null,t.length&&A((()=>r(t)),!1)}(n),t}catch(o){n||(f=null),d=null,U(o)}}function C(e){for(let t=0;t<e.length;t++)S(e[t])}function I(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:S(n)}for(t=0;t<r;t++)S(e[t])}function T(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const e=s.state;e===n?s!==t&&(!s.updatedAt||s.updatedAt<h)&&S(s):e===o&&T(s,t)}}}function L(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=o,r.pure?d.push(r):f.push(r),r.observers&&L(r))}}function N(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),n=t.observers;if(n&&n.length){const e=n.pop(),o=t.observerSlots.pop();r<n.length&&(e.sourceSlots[o]=r,n[r]=e,t.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)N(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)N(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function O(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function U(e,t=i){throw O(e)}function $(e){if("function"==typeof e&&!e.length)return $(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=$(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function J(e,t){return m((()=>e(t||{})))}function W(e){const t=k((()=>e.children)),r=b((()=>{const e=t(),r=Array.isArray(e)?e:[e];let n=()=>{};for(let t=0;t<r.length;t++){const e=t,o=r[t],s=n,a=b((()=>s()?void 0:o.when),void 0,void 0),i=o.keyed?a:b(a,void 0,{equals:(e,t)=>!e==!t});n=()=>s()||(i()?[e,a,o]:void 0)}return n}));return b((()=>{const t=r()();if(!t)return e.fallback;const[n,o,s]=t,a=s.children;return"function"==typeof a&&a.length>0?m((()=>a(s.keyed?o():()=>{if(m(r)()?.[0]!==n)throw`Stale read from <${"Match"}>.`;return o()}))):a}),void 0,void 0)}function P(e){return e}const D="_$DX_DELEGATE";function j(e,t,r,n={}){let o;return function(e,t){const r=u,n=i,o=0===e.length,a=void 0===t?n:t,c=o?s:{owned:null,cleanups:null,context:a?a.context:null,owner:a},l=o?e:()=>e((()=>m((()=>N(c)))));i=c,u=null;try{return A(l,!0)}finally{u=r,i=n}}((n=>{o=n,t===document?e():K(t,e(),t.firstChild?null:void 0,r)}),n.owner),()=>{o(),t.textContent=""}}function B(e,t,r,n){let o;const s=()=>(o||(o=(()=>{const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild})())).cloneNode(!0);return s.cloneNode=s,s}function M(e,t=window.document){const r=t[D]||(t[D]=new Set);for(let n=0,o=e.length;n<o;n++){const o=e[n];r.has(o)||(r.add(o),t.addEventListener(o,F))}}function V(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function z(e,t){null==t?e.removeAttribute("class"):e.className=t}function H(e,t,r){return m((()=>e(t,r)))}function K(e,t,r,n){if(void 0===r||n||(n=[]),"function"!=typeof t)return G(e,t,n,r);y((n=>G(e,t(),n,r)),n)}function F(e){let t=e.target;const r=`$$${e.type}`,n=e.target,o=e.currentTarget,s=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),a=()=>{const n=t[r];if(n&&!t.disabled){const o=t[`${r}Data`];if(void 0!==o?n.call(t,o,e):n.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},i=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){const r=e.composedPath();s(r[0]);for(let e=0;e<r.length-2&&(t=r[e],a());e++){if(t._$host){t=t._$host,i();break}if(t.parentNode===o)break}}else i();s(n)}function G(e,t,r,n,o){for(;"function"==typeof r;)r=r();if(t===r)return r;const s=typeof t,a=void 0!==n;if(e=a&&r[0]&&r[0].parentNode||e,"string"===s||"number"===s){if("number"===s&&(t=t.toString())===r)return r;if(a){let o=r[0];o&&3===o.nodeType?o.data!==t&&(o.data=t):o=document.createTextNode(t),r=X(e,r,n,o)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===s)r=X(e,r,n);else{if("function"===s)return y((()=>{let o=t();for(;"function"==typeof o;)o=o();r=G(e,o,r,n)})),()=>r;if(Array.isArray(t)){const s=[],i=r&&Array.isArray(r);if(q(s,t,r,o))return y((()=>r=G(e,s,r,n,!0))),()=>r;if(0===s.length){if(r=X(e,r,n),a)return r}else i?0===r.length?Y(e,s,n):function(e,t,r){let n=r.length,o=t.length,s=n,a=0,i=0,c=t[o-1].nextSibling,l=null;for(;a<o||i<s;)if(t[a]!==r[i]){for(;t[o-1]===r[s-1];)o--,s--;if(o===a){const t=s<n?i?r[i-1].nextSibling:r[s-i]:c;for(;i<s;)e.insertBefore(r[i++],t)}else if(s===i)for(;a<o;)l&&l.has(t[a])||t[a].remove(),a++;else if(t[a]===r[s-1]&&r[i]===t[o-1]){const n=t[--o].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--s],n),t[o]=r[s]}else{if(!l){l=new Map;let e=i;for(;e<s;)l.set(r[e],e++)}const n=l.get(t[a]);if(null!=n)if(i<n&&n<s){let c,u=a,d=1;for(;++u<o&&u<s&&null!=(c=l.get(t[u]))&&c===n+d;)d++;if(d>n-i){const o=t[a];for(;i<n;)e.insertBefore(r[i++],o)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}else a++,i++}(e,r,s):(r&&X(e),Y(e,s));r=s}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=X(e,r,n,t);X(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}}return r}function q(e,t,r,n){let o=!1;for(let s=0,a=t.length;s<a;s++){let a,i=t[s],c=r&&r[e.length];if(null==i||!0===i||!1===i);else if("object"==(a=typeof i)&&i.nodeType)e.push(i);else if(Array.isArray(i))o=q(e,i,c)||o;else if("function"===a)if(n){for(;"function"==typeof i;)i=i();o=q(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||o}else e.push(i),o=!0;else{const t=String(i);c&&3===c.nodeType&&c.data===t?e.push(c):e.push(document.createTextNode(t))}}return o}function Y(e,t,r=null){for(let n=0,o=t.length;n<o;n++)e.insertBefore(t[n],r)}function X(e,t,r,n){if(void 0===r)return e.textContent="";const o=n||document.createTextNode("");if(t.length){let n=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(o!==a){const t=a.parentNode===e;n||s?t&&a.remove():t?e.replaceChild(o,a):e.insertBefore(o,r)}else n=!0}}else e.insertBefore(o,r);return[o]}function Q(){const e=document.getElementsByTagName("script");let t;for(let n of e){if(!n.src)continue;let e=new URL(n.src);if(e.pathname.includes("/api.js")){t=e;break}}const r={render:"onload"};return t?.searchParams.forEach(((e,t)=>{switch(t){case"onload":r.onload=window[e];break;case"render":r.render="explicit"===e?"explicit":"onload";break;case"hl":r.hl=e}})),r}new TextEncoder;const Z=new TextDecoder;class ee extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}ee.code="ERR_JOSE_GENERIC";(class extends ee{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}).code="ERR_JWT_CLAIM_VALIDATION_FAILED";(class extends ee{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}).code="ERR_JWT_EXPIRED";(class extends ee{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}).code="ERR_JOSE_ALG_NOT_ALLOWED";(class extends ee{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}).code="ERR_JOSE_NOT_SUPPORTED";(class extends ee{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}).code="ERR_JWE_DECRYPTION_FAILED";(class extends ee{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}).code="ERR_JWE_INVALID";(class extends ee{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}).code="ERR_JWS_INVALID";class te extends ee{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}te.code="ERR_JWT_INVALID";(class extends ee{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}).code="ERR_JWK_INVALID";(class extends ee{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}).code="ERR_JWKS_INVALID";(class extends ee{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}).code="ERR_JWKS_NO_MATCHING_KEY";(class extends ee{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}).code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";(class extends ee{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}).code="ERR_JWKS_TIMEOUT";(class extends ee{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}).code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const re=e=>{let t=e;t instanceof Uint8Array&&(t=Z.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r})(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};function ne(e){if("string"!=typeof e)throw new te("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new te("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new te("Invalid JWT");if(!t)throw new te("JWTs must contain a payload");let n,o;try{n=re(t)}catch{throw new te("Failed to base64url decode the payload")}try{o=JSON.parse(Z.decode(n))}catch{throw new te("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}(o))throw new te("Invalid JWT Claims Set");return o}class oe{static HASH_ALGORITHM="SHA-256";static async solve(e){if(0===e.difficulty||e.difficulty>32)throw new Error("Invalid difficulty");let t=0;for(;;){const r=await this.hashSolution(e,t);if(this.isSolution(r,e.difficulty))return t;t++}}static isSolution(e,t){const r="0".repeat(t);return e.startsWith(r)}static async hashSolution(e,t){const r=this.toBeBytes(e.nonce,4),n=this.toBeBytes(e.difficulty,2),o=this.toBeBytes(e.timestamp,8,!0),s=this.toBeBytes(t,4),a=new Uint8Array([...r,...n,...o,...s]),i=await crypto.subtle.digest(this.HASH_ALGORITHM,a);return Array.from(new Uint8Array(i)).map((e=>e.toString(16).padStart(2,"0"))).join("")}static toBeBytes(e,t,r=!1){const n=new ArrayBuffer(t),o=new DataView(n);switch(t){case 1:r?o.setInt8(0,Number(e)):o.setUint8(0,Number(e));break;case 2:r?o.setInt16(0,Number(e),!1):o.setUint16(0,Number(e),!1);break;case 4:r?o.setInt32(0,Number(e),!1):o.setUint32(0,Number(e),!1);break;case 8:r?o.setBigInt64(0,BigInt(e),!1):o.setBigUint64(0,BigInt(e),!1);break;default:throw new Error(`Unsupported byte size: ${t}`)}return new Uint8Array(n)}}var se=B('<a href=https://www.gotcha.land target=_blank><img src=https://static.wixstatic.com/media/a56dc4_951625a6990f42b6a80975c7beabee2a~mv2.png/v1/fill/w_171,h_38,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/HL_1.png alt="Gotcha logo">');function ae(e){return se()}var ie=B('<div class="size-6 border-2 border-gray-300 rounded bg-white hover:border-gray-400 transition-colors duration-200">'),ce=B('<svg class="animate-spin size-6 text-sky-500"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),le=B('<svg class="size-6 text-green-600"fill=none stroke=currentColor viewBox="0 0 24 24"stroke-width=3><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">'),ue=B("<button type=button>");const de=e=>{const t=()=>{switch(e.state){case"blank":return ie();case"checking":return ce();case"checked":return le()}};return s=ue(),r=s,n="click",o=e.onClick,Array.isArray(o)?(r[`$$${n}`]=o[0],r[`$$${n}Data`]=o[1]):r[`$$${n}`]=o,K(s,t),y((t=>{var r=e.disabled,n=`\n          inline-flex\n          items-center\n          justify-center\n          transition-opacity\n          duration-200\n          ${e.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n          ${e.className||""}\n        `.trim().replace(/\s+/g," ");return r!==t.e&&(s.disabled=t.e=r),n!==t.t&&z(s,t.t=n),t}),{e:void 0,t:void 0}),s;var r,n,o,s};M(["click"]);var fe=B('<div class="rounded-lg w-[304px] h-[68px]"><div class="flex justify-between items-stretch h-full"><div class="pl-5 flex gap-2 flex-grow items-center cursor-pointer"><span></span></div><div class="pr-3 flex flex-col justify-evenly items-center max-w-[35%]"><button type=button class="text-purple-500 text-xs self-end hover:underline cursor-pointer">Accessibility');function he(t){const r=[];w((()=>{const e=function(e){const t={mousemove:t=>{e.push({ts:Date.now(),event:{kind:"mousemovement",x:t.offsetX,y:t.offsetY}})},mouseup:t=>{e.push({ts:Date.now(),event:{kind:"mouseclick",mouse:"up"}})},mousedown:t=>{e.push({ts:Date.now(),event:{kind:"mouseclick",mouse:"down"}})},mouseenter:t=>{e.push({ts:Date.now(),event:{kind:"mouseenter",mouse:"in"}})},mouseleave:t=>{e.push({ts:Date.now(),event:{kind:"mouseenter",mouse:"out"}})},keyup:t=>{e.push({ts:Date.now(),event:{kind:"keypress",keyMove:"up",key:t.key}})},keydown:t=>{e.push({ts:Date.now(),event:{kind:"keypress",keyMove:"down",key:t.key}})}};return Object.entries(t).forEach((([e,t])=>{document.addEventListener(e,t)})),()=>{Object.entries(t).forEach((([e,t])=>{document.removeEventListener(e,t)}))}}(r);return e}));const n=async r=>{if("verified"!==t.state&&"verifying"!==t.state&&"challenging"!==t.state){t.onStateChange("verifying");try{const n=await async function(t){const r=await async function(t){try{const r=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,n=await fetch(`${r}/api/challenge/proof-of-work?site_key=${t}`);if(200!==n.status)throw new Error(`getProofOfWorkChallenge returned status code ${n.status}`);return await n.json()}catch(r){return console.error(r),null}}(t);if(!r)return null;const n=ne(r.token),o=await oe.solve(n);return{challenge:r.token,solution:o}}(t.params.sitekey);if(!n)return console.error(n),t.onStateChange("error"),void t.onError();const o=await r(n);if(!o)return console.error(o),t.onStateChange("error"),void t.onError();t.onVerificationComplete(o)}catch(n){console.error(n),t.onStateChange("error"),t.onError()}}};return o=fe(),s=o.firstChild.firstChild,a=s.firstChild,i=s.nextSibling,c=i.firstChild,K(s,J(de,{get state(){return function(e){switch(e){case"verified":return"checked";case"verifying":case"challenging":return"checking";default:return"blank"}}(t.state)},onClick:()=>n((n=>async function(t,r,n){try{const o=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,s=new URL(`${o}/api/challenge/process-pre-analysis`),a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_key:t,hostname:window.location.hostname,interactions:n,proof_of_work:r})});if(200!==a.status)throw new Error(`processPreAnalysis returned status code ${a.status}`);return await a.json()}catch(o){return console.error(o),null}}(t.params.sitekey,n,r)))}),a),K(a,(()=>function(e){switch(e){case"verified":return"Verified!";case"failed":return"Try again...";case"expired":return"Expired, verify again.";case"error":return"Something went wrong.";case"verifying":case"challenging":return"Verifying...";default:return"I'm not a robot"}}(t.state))),K(i,J(ae,{}),c),c.$$click=()=>n((r=>async function(t,r){try{const n=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,o=new URL(`${n}/api/challenge/process-accessibility`),s=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_key:t,hostname:window.location.hostname,proof_of_work:r})});if(200!==s.status)throw new Error(`processAccessibility returned status code ${s.status}`);return await s.json()}catch(n){return console.error(n),null}}(t.params.sitekey,r))),y((()=>z(a,`${function(e){switch(e){case"verified":return"text-lg text-green-700 dark:text-green-300";case"failed":case"expired":return"text-md text-red-700 dark:text-red-300";case"error":return"text-md text-yellow-700 dark:text-yellow-300";case"verifying":case"challenging":return"text-lg text-purple-700 dark:text-purple-300";default:return"text-lg text-gray-700 dark:text-gray-300"}}(t.state)}`))),o;var o,s,a,i,c}M(["click"]);var pe=B("<dialog class=m-auto>");function ge(e){let t=null;var r,n;return r=()=>{t?.addEventListener("close",(()=>{e.onClose()}))},w((()=>m(r))),w((()=>{e.open?t?.open||t?.showModal():t?.open&&t?.close()})),H((e=>t=e),n=pe()),K(n,(()=>e.children)),n}var ye=B('<iframe sandbox="allow-forms allow-scripts allow-same-origin">'),we=B('<div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-5 shadow-lg"><div class="text-gray-700 dark:text-gray-50 text-xl text-center mb-4">Solve the challenge</div><div></div><div class="flex items-center justify-between mt-4"><div class="flex gap-4"><button type=button class="text-gray-400 hover:text-purple-700 dark:hover:text-purple-400"><svg class="w-6 h-6"viewBox="0 0 24 24"fill=currentColor><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg></button><button type=button class="text-gray-400 hover:text-purple-700 dark:hover:text-purple-400"><svg class="w-6 h-6"viewBox="0 0 24 24"fill=currentColor><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></svg></button></div><div class=w-1/4>');function be(t){const[r,n]=p();w((()=>{r()?.focus()}));const[o,s]=v(t.params.k,ve),a=async n=>{const s=o();if(!s||n.origin!==new URL(s.url).origin||n.source!==r()?.contentWindow)return;const a=n.data;switch(a.type){case"response-callback":if(!a.success)return void t.onFail();console.debug(a.interactions);const r=await async function(t,r,n,o){try{const s=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,a=new URL(`${s}/api/challenge/process`),i=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({success:r,site_key:t,hostname:window.location.hostname,challenge:n,interactions:o})});if(200!==i.status)throw new Error(`processChallenge returned status code ${i.status}`);const{token:c}=await i.json();return c}catch(s){return null}}(t.params.k,a.success,s.url,a.interactions);r?t.onComplete(r):t.onError();break;case"error-callback":t.onError()}},i=async()=>{t.onClose(),await s.refetch()};return w((()=>(window.addEventListener("message",a),()=>window.removeEventListener("message",a)))),J(ge,{get open(){return t.open},onClose:i,get children(){var e=we(),r=e.firstChild.nextSibling,a=r.nextSibling.firstChild,c=a.firstChild,l=c.nextSibling,u=a.nextSibling;return K(r,J(W,{get children(){return[J(P,{get when(){return o.loading},children:"Loading..."}),J(P,{get when(){return o.error},children:"Something went wrong..."}),J(P,{get when(){return o()},get children(){var e=ye();return H(n,e),y((r=>{var n=function(e,t){const r=new URL(e);return r.searchParams.append("k",t.k),r.searchParams.append("hl",t.hl??navigator.language),r.searchParams.append("theme",t.theme??Re.theme),r.searchParams.append("size",t.size??Re.size),r.searchParams.append("badge",t.badge??Re.badge),r.searchParams.append("sv",t.sv??window.location.origin),r.toString()}(o().url,t.params),s=o().width,a=o().height;return n!==r.e&&V(e,"src",r.e=n),s!==r.t&&V(e,"width",r.t=s),a!==r.a&&V(e,"height",r.a=a),r}),{e:void 0,t:void 0,a:void 0}),e}})]}})),c.$$click=i,l.$$click=async()=>{await s.refetch(),t.onReroll?.()},K(u,J(ae,{})),y((()=>z(r,`w-[${o.latest?.width??304}px] h-[${o.latest?.height??68}px]`))),e}})}async function ve(){const t=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,r=new URL(`${t}/api/challenge`),n=await fetch(r);return await n.json()}M(["click"]);var me=B("<div class=gotcha-widget><div><div>");function ke(e){const[t,r]=p("blank");w((()=>{"expired"===e.liveState()&&r("expired")}));const n=t=>{"success"===t.result?(r("verified"),e.callback?.(t.response.token)):r("challenging")},o=t=>{r("verified"),e.callback?.(t)},s=()=>{r("failed")},a=()=>{r("error"),e["error-callback"]?.()};return i=me(),c=i.firstChild,K(l=c.firstChild,J(he,{params:e,get state(){return t()},onStateChange:r,onVerificationComplete:n,onError:a}),null),K(l,J(be,{get open(){return"challenging"===t()},get params(){return{k:e.sitekey,theme:e.theme,size:e.size,badge:e.badge,sv:window.location.origin}},onComplete:o,onFail:s,onError:a,onClose:()=>{"verified"!=t()&&"error"!=t()&&r("failed")}}),null),y((r=>{var n=e.theme,o=`inline-block bg-gray-50 dark:bg-gray-700 transition-colors duration-400 ${function(e){const t=(()=>{switch(e){case"verified":return"border-b-green-400 dark:border-b-green-600";case"failed":return"border-b-red-400 dark:border-b-red-600";case"expired":return"border-b-red-300 dark:border-b-red-700";case"error":return"border-b-yellow-400 dark:border-b-yellow-600";case"verifying":case"challenging":return"border-b-purple-400 dark:border-b-purple-600";default:return"border-b-gray-300 dark:border-b-gray-500"}})();return`border-2 border-gray-300 dark:border-gray-500 border-b-4 ${t} rounded`}(t())}`,s=`${function(e){switch(e){case"verified":return"bg-gradient-to-t from-green-300 to-transparent dark:from-green-900/50";case"failed":return"bg-gradient-to-t from-red-300 to-transparent dark:from-red-900/50";case"expired":return"bg-gradient-to-t from-red-200 to-transparent dark:from-red-900/40";case"error":return"bg-gradient-to-t from-yellow-300 to-transparent dark:from-yellow-900/50";case"verifying":case"challenging":return"bg-gradient-to-t from-purple-300 via-transparent to-transparent dark:from-purple-900 dark:via-transparent dark:to-transparent bg-[size:100%_200%] animate-pulse-gradient";default:return"bg-transparent"}}(t())}`;return n!==r.e&&V(i,"data-theme",r.e=n),o!==r.t&&z(c,r.t=o),s!==r.a&&z(l,r.a=s),r}),{e:void 0,t:void 0,a:void 0}),i;var i,c,l}var xe=B("<div><textarea name=g-recaptcha-response style=display:none;>");class Ee{widgets=[];constructor(){const{onload:e,render:t,hl:r}=Q();if("explicit"===t)return;let n=document.getElementsByClassName("g-recaptcha")[0];if(void 0===n)return void console.error("Could not find 'g-recaptcha' tag. Add 'g-recaptcha' to your class name list.");const o=this.getParamsFromContainer(n);this.render(n,o)}render(e,t){const r="string"==typeof e?document.getElementById(e):e;if(null===r)return null;const n=this.widgets.length,o=0===n?"g-recaptcha-container":`g-recaptcha-container-${n}`,s=0===n?"g-recaptcha-response":`g-recaptcha-response-${n}`,a=(i=xe(),c=i.firstChild,V(i,"id",o),V(c,"id",s),i);var i,c;const l=function(){let e,t;const[r,n]=p("live");let o;const s=(s,a)=>{e=s,t={...a,"expired-callback":()=>{n("expired"),a["expired-callback"]?.()},callback:e=>{n("live"),a.callback?.(e),clearTimeout(o),o=setTimeout((()=>t?.["expired-callback"]?.()),3e4)},liveState:r},j((()=>J(ke,t)),e)};return{render:s,reset:()=>{n("live"),clearTimeout(o),e&&(e.getElementsByClassName("gotcha-widget")[0]?.remove(),s(e,t))}}}(),u={...Re,...t,callback:e=>{this.setResponseTextarea(e,n),t.callback?.(e)},"expired-callback":()=>{this.setResponseTextarea(null,n),t["expired-callback"]?.()},"error-callback":()=>{this.setResponseTextarea(null,n),t["error-callback"]?.()}};return j((()=>a),r),l.render(document.getElementById(o),u),this.widgets.push(l)-1}reset(e){const t=this.getWidget(e);t&&(t.reset(),this.setResponseTextarea(null,e))}getResponse(e){return this.getResponseElement(e)?.textContent??null}getResponseElement(e=0){return document.getElementById(0===e?"g-recaptcha-response":`g-recaptcha-response-${e}`)}setResponseTextarea(e,t){let r=this.getResponseElement(t);r&&(r.textContent=e??"")}getWidget(e=0){return this.widgets[e]}getParamsFromContainer(e){return{sitekey:e.getAttribute("data-sitekey")??"",theme:e.getAttribute("data-theme"),size:e.getAttribute("data-size"),tabindex:parseInt(e.getAttribute("data-tabindex")||"0")||0,callback:window[e.getAttribute("data-callback")??""]??null,"expired-callback":window[e.getAttribute("data-expired-callback")??""]??null,"error-callback":window[e.getAttribute("data-error-callback")??""]??null}}}const Re={sitekey:"",theme:void 0,size:"normal",badge:"bottomright",tabindex:0,isolated:!1};new Promise(((t,r)=>{const n=document.createElement("link");n.rel="stylesheet";const o=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,s=new URL(`${o}/style.css`);n.href=s.toString(),n.onload=t,n.onerror=()=>r(new Error("CSS failed to load")),document.head.appendChild(n)})).then((()=>{window.grecaptcha=new Ee;const{onload:e}=Q();e?.()})).catch((e=>{console.error("Error initializing Gotcha:",e)}))}();
