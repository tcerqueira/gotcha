!function(){"use strict";var e="undefined"!=typeof document?document.currentScript:null;const t={equals:(e,t)=>e===t};let r=T;const n=1,o=2,s={owned:null,cleanups:null,context:null,owner:null},a={};var i=null;let c=null,l=null,u=null,d=null,f=0;function h(e,t){const r=l,n=i,o=0===e.length,a=void 0===t?n:t,c=o?s:{owned:null,cleanups:null,context:a?a.context:null,owner:a},u=o?e:()=>e(()=>v(()=>$(c)));i=c,l=null;try{return I(u,!0)}finally{l=r,i=n}}function p(e,r){const n={value:e,observers:null,observerSlots:null,comparator:(r=r?Object.assign({},t,r):t).equals||void 0};return[_.bind(n),e=>("function"==typeof e&&(e=e(n.value)),A(n,e))]}function g(e,t,r){R(S(e,t,!1,n))}function y(e,t,o){r=O;const s=S(e,t,!1,n);s.user=!0,d?d.push(s):R(s)}function w(e,r,n){n=n?Object.assign({},t,n):t;const o=S(e,r,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,R(o),_.bind(o)}function m(e,t,r){let o,s,c;"function"==typeof t?(o=e,s=t,c={}):(o=!0,s=e,c=t||{});let u=null,d=a,f=!1,h="initialValue"in c,g="function"==typeof o&&w(o);const y=new Set,[m,b]=(c.storage||p)(c.initialValue),[k,x]=p(void 0),[E,_]=p(void 0,{equals:!1}),[A,C]=p(h?"ready":"unresolved");function T(e,t,r,n){return u===e&&(u=null,void 0!==n&&(h=!0),e!==d&&t!==d||!c.onHydrated||queueMicrotask(()=>c.onHydrated(n,{value:t})),d=a,function(e,t){I(()=>{void 0===t&&b(()=>e),C(void 0!==t?"errored":h?"ready":"unresolved"),x(t);for(const e of y.keys())e.decrement();y.clear()},!1)}(t,r)),t}function O(){const e=m(),t=k();if(void 0!==t&&!u)throw t;return l&&l.user,e}function N(e=!0){if(!1!==e&&f)return;f=!1;const t=g?g():o;if(null==t||!1===t)return void T(u,v(m));let r;const n=d!==a?d:v(()=>{try{return s(t,{value:m(),refetching:e})}catch(n){r=n}});var i;if(void 0===r)return(i=n)&&"object"==typeof i&&"then"in i?(u=n,"v"in n?(1===n.s?T(u,n.v,void 0,t):T(u,void 0,J(n.v),t),n):(f=!0,queueMicrotask(()=>f=!1),I(()=>{C(h?"refreshing":"pending"),_()},!1),n.then(e=>T(n,e,void 0,t),e=>T(n,void 0,J(e),t)))):(T(u,n,void 0,t),n);T(u,void 0,J(r),t)}Object.defineProperties(O,{state:{get:()=>A()},error:{get:()=>k()},loading:{get(){const e=A();return"pending"===e||"refreshing"===e}},latest:{get(){if(!h)return O();const e=k();if(e&&!u)throw e;return m()}}});let L=i;return g?function(e,t){R(S(e,t,!0,n))}(()=>(L=i,N(!1))):N(!1),[O,{refetch:e=>function(e,t){const r=i,n=l;i=e,l=null;try{return I(t,!0)}catch(o){W(o)}finally{i=r,l=n}}(L,()=>N(e)),mutate:b}]}function v(e){if(null===l)return e();const t=l;l=null;try{return e()}finally{l=t}}function b(e){return null===i||(null===i.cleanups?i.cleanups=[e]:i.cleanups.push(e)),e}const[k,x]=p(!1);function E(e){const t=w(e),r=w(()=>P(t()));return r.toArray=()=>{const e=r();return Array.isArray(e)?e:null!=e?[e]:[]},r}function _(){if(this.sources&&this.state)if(this.state===n)R(this);else{const e=u;u=null,I(()=>N(this),!1),u=e}if(l){const e=this.observers?this.observers.length:0;l.sources?(l.sources.push(this),l.sourceSlots.push(e)):(l.sources=[this],l.sourceSlots=[e]),this.observers?(this.observers.push(l),this.observerSlots.push(l.sources.length-1)):(this.observers=[l],this.observerSlots=[l.sources.length-1])}return this.value}function A(e,t,r){let o=e.value;return e.comparator&&e.comparator(o,t)||(e.value=t,e.observers&&e.observers.length&&I(()=>{for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t],o=c&&c.running;o&&c.disposed.has(r),(o?r.tState:r.state)||(r.pure?u.push(r):d.push(r),r.observers&&L(r)),o||(r.state=n)}if(u.length>1e6)throw u=[],new Error},!1)),t}function R(e){if(!e.fn)return;$(e);const t=f;!function(e,t,r){let o;const s=i,a=l;l=i=e;try{o=e.fn(t)}catch(c){return e.pure&&(e.state=n,e.owned&&e.owned.forEach($),e.owned=null),e.updatedAt=r+1,W(c)}finally{l=a,i=s}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?A(e,o):e.value=o,e.updatedAt=r)}(e,e.value,t)}function S(e,t,r,o=n,a){const c={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:i,context:i?i.context:null,pure:r};return null===i||i!==s&&(i.owned?i.owned.push(c):i.owned=[c]),c}function C(e){if(0===e.state)return;if(e.state===o)return N(e);if(e.suspense&&v(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<f);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if((e=t[r]).state===n)R(e);else if(e.state===o){const r=u;u=null,I(()=>N(e,t[0]),!1),u=r}}function I(e,t){if(u)return e();let n=!1;t||(u=[]),d?n=!0:d=[],f++;try{const t=e();return function(e){u&&(T(u),u=null);if(e)return;const t=d;d=null,t.length&&I(()=>r(t),!1)}(n),t}catch(o){n||(d=null),u=null,W(o)}}function T(e){for(let t=0;t<e.length;t++)C(e[t])}function O(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:C(n)}for(t=0;t<r;t++)C(e[t])}function N(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const e=s.state;e===n?s!==t&&(!s.updatedAt||s.updatedAt<f)&&C(s):e===o&&N(s,t)}}}function L(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=o,r.pure?u.push(r):d.push(r),r.observers&&L(r))}}function $(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),n=t.observers;if(n&&n.length){const e=n.pop(),o=t.observerSlots.pop();r<n.length&&(e.sourceSlots[o]=r,n[r]=e,t.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)$(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)$(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function J(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function W(e,t=i){throw J(e)}function P(e){if("function"==typeof e&&!e.length)return P(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=P(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function D(e,t){return v(()=>e(t||{}))}const U=e=>`Stale read from <${e}>.`;function j(e){const t=e.keyed,r=w(()=>e.when,void 0,void 0),n=t?r:w(r,void 0,{equals:(e,t)=>!e==!t});return w(()=>{const o=n();if(o){const s=e.children;return"function"==typeof s&&s.length>0?v(()=>s(t?o:()=>{if(!v(n))throw U("Show");return r()})):s}return e.fallback},void 0,void 0)}function B(e){const t=E(()=>e.children),r=w(()=>{const e=t(),r=Array.isArray(e)?e:[e];let n=()=>{};for(let t=0;t<r.length;t++){const e=t,o=r[t],s=n,a=w(()=>s()?void 0:o.when,void 0,void 0),i=o.keyed?a:w(a,void 0,{equals:(e,t)=>!e==!t});n=()=>s()||(i()?[e,a,o]:void 0)}return n});return w(()=>{const t=r()();if(!t)return e.fallback;const[n,o,s]=t,a=s.children;return"function"==typeof a&&a.length>0?v(()=>a(s.keyed?o():()=>{if(v(r)()?.[0]!==n)throw U("Match");return o()})):a},void 0,void 0)}function z(e){return e}const M="_$DX_DELEGATE";function V(e,t,r,n={}){let o;return h(n=>{o=n,t===document?e():Y(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{o(),t.textContent=""}}function H(e,t,r,n){let o;const s=()=>(o||(o=(()=>{const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild})())).cloneNode(!0);return s.cloneNode=s,s}function q(e,t=window.document){const r=t[M]||(t[M]=new Set);for(let n=0,o=e.length;n<o;n++){const o=e[n];r.has(o)||(r.add(o),t.addEventListener(o,X))}}function K(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function F(e,t){null==t?e.removeAttribute("class"):e.className=t}function G(e,t,r){return v(()=>e(t,r))}function Y(e,t,r,n){if(void 0===r||n||(n=[]),"function"!=typeof t)return Q(e,t,n,r);g(n=>Q(e,t(),n,r),n)}function X(e){let t=e.target;const r=`$$${e.type}`,n=e.target,o=e.currentTarget,s=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),a=()=>{const n=t[r];if(n&&!t.disabled){const o=t[`${r}Data`];if(void 0!==o?n.call(t,o,e):n.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},i=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){const r=e.composedPath();s(r[0]);for(let e=0;e<r.length-2&&(t=r[e],a());e++){if(t._$host){t=t._$host,i();break}if(t.parentNode===o)break}}else i();s(n)}function Q(e,t,r,n,o){for(;"function"==typeof r;)r=r();if(t===r)return r;const s=typeof t,a=void 0!==n;if(e=a&&r[0]&&r[0].parentNode||e,"string"===s||"number"===s){if("number"===s&&(t=t.toString())===r)return r;if(a){let o=r[0];o&&3===o.nodeType?o.data!==t&&(o.data=t):o=document.createTextNode(t),r=te(e,r,n,o)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===s)r=te(e,r,n);else{if("function"===s)return g(()=>{let o=t();for(;"function"==typeof o;)o=o();r=Q(e,o,r,n)}),()=>r;if(Array.isArray(t)){const s=[],i=r&&Array.isArray(r);if(Z(s,t,r,o))return g(()=>r=Q(e,s,r,n,!0)),()=>r;if(0===s.length){if(r=te(e,r,n),a)return r}else i?0===r.length?ee(e,s,n):function(e,t,r){let n=r.length,o=t.length,s=n,a=0,i=0,c=t[o-1].nextSibling,l=null;for(;a<o||i<s;)if(t[a]!==r[i]){for(;t[o-1]===r[s-1];)o--,s--;if(o===a){const t=s<n?i?r[i-1].nextSibling:r[s-i]:c;for(;i<s;)e.insertBefore(r[i++],t)}else if(s===i)for(;a<o;)l&&l.has(t[a])||t[a].remove(),a++;else if(t[a]===r[s-1]&&r[i]===t[o-1]){const n=t[--o].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--s],n),t[o]=r[s]}else{if(!l){l=new Map;let e=i;for(;e<s;)l.set(r[e],e++)}const n=l.get(t[a]);if(null!=n)if(i<n&&n<s){let c,u=a,d=1;for(;++u<o&&u<s&&null!=(c=l.get(t[u]))&&c===n+d;)d++;if(d>n-i){const o=t[a];for(;i<n;)e.insertBefore(r[i++],o)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}else a++,i++}(e,r,s):(r&&te(e),ee(e,s));r=s}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=te(e,r,n,t);te(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}}return r}function Z(e,t,r,n){let o=!1;for(let s=0,a=t.length;s<a;s++){let a,i=t[s],c=r&&r[e.length];if(null==i||!0===i||!1===i);else if("object"==(a=typeof i)&&i.nodeType)e.push(i);else if(Array.isArray(i))o=Z(e,i,c)||o;else if("function"===a)if(n){for(;"function"==typeof i;)i=i();o=Z(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||o}else e.push(i),o=!0;else{const t=String(i);c&&3===c.nodeType&&c.data===t?e.push(c):e.push(document.createTextNode(t))}}return o}function ee(e,t,r=null){for(let n=0,o=t.length;n<o;n++)e.insertBefore(t[n],r)}function te(e,t,r,n){if(void 0===r)return e.textContent="";const o=n||document.createTextNode("");if(t.length){let n=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(o!==a){const t=a.parentNode===e;n||s?t&&a.remove():t?e.replaceChild(o,a):e.insertBefore(o,r)}else n=!0}}else e.insertBefore(o,r);return[o]}function re(){const e=document.getElementsByTagName("script");let t;for(let n of e){if(!n.src)continue;let e=new URL(n.src);if(e.pathname.includes("/api.js")){t=e;break}}const r={render:"onload"};return t?.searchParams.forEach((e,t)=>{switch(t){case"onload":r.onload=window[e];break;case"render":r.render="explicit"===e?"explicit":"onload";break;case"hl":r.hl=e}}),r}const ne=b;function oe(e,t=!1){const r=window.matchMedia(e),[n,o]=function(e,t,r){return p(t(),r)}(0,()=>r.matches);var s,a,i,c;return a="change",i=()=>o(r.matches),(s=r).addEventListener(a,i,c),ne(s.removeEventListener.bind(s,a,i,c)),n}(function(e){return oe("(prefers-color-scheme: dark)",e)}).bind(void 0,!1);var se=H('<svg class="w-6 h-6"viewBox="0 0 24 24"fill=currentColor><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">');function ae(){return se()}var ie=H('<svg class="w-6 h-6"viewBox="0 0 24 24"fill=currentColor><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z">');function ce(){return ie()}var le=H('<a href=https://www.gotcha.land target=_blank><img src=https://static.wixstatic.com/media/a56dc4_951625a6990f42b6a80975c7beabee2a~mv2.png/v1/fill/w_171,h_38,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/HL_1.png alt="Gotcha logo">');function ue(e){return le()}var de=H('<dialog class="m-auto bg-transparent backdrop:bg-black/0">');function fe(e){let t=null;var r,n;return r=()=>{t?.addEventListener("close",()=>{e.onClose()})},y(()=>v(r)),y(()=>{e.open?t?.open||t?.showModal():t?.open&&t?.close()}),G(e=>t=e,n=de()),Y(n,()=>e.children),n}var he=H('<iframe class="w-full h-full"sandbox="allow-forms allow-scripts allow-same-origin">'),pe=H('<div class="bg-gray-50 dark:bg-gray-700 border-2 border-gray-400 dark:border-gray-600 rounded-lg p-5"><h1 class="text-gray-700 dark:text-gray-50 text-xl text-center mb-4">Solve the challenge</h1><div class="mx-auto w-[80vw] h-[80vh] max-w-[var(--challenge-width)] max-h-[var(--challenge-height)]"></div><div class="flex items-center justify-between mt-4"><div class="flex gap-4"><button type=button class="text-gray-400 hover:text-purple-700 dark:hover:text-purple-400"></button><button type=button class="text-gray-400 hover:text-purple-700 dark:hover:text-purple-400"></button></div><div class=w-1/4>');function ge(e){const[t,r]=p();y(()=>{t()?.focus()});const[n,o]=m(e.params.k,ye),s=oe("(max-width: 767px)"),a=async r=>{const o=n();if(!o||r.origin!==new URL(o.url).origin||r.source!==t()?.contentWindow)return;const s=r.data;switch(s.type){case"response-callback":if(!s.success)return void e.onFail();console.debug(s.interactions);const t=await async function(e,t,r,n){try{const o=new URL(`${"https://a3t7umsqe6.execute-api.us-east-1.amazonaws.com"}/api/challenge/process`),s=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({success:t,site_key:e,hostname:window.location.hostname,challenge:r,interactions:n})});if(200!==s.status)throw new Error(`processChallenge returned status code ${s.status}`);const{token:a}=await s.json();return a}catch(o){return console.error("failed to fetch",o),null}}(e.params.k,s.success,o.url,s.interactions);t?e.onComplete(t):e.onError();break;case"error-callback":e.onError()}},i=async()=>{e.onClose(),await o.refetch()};return y(()=>(window.addEventListener("message",a),()=>window.removeEventListener("message",a))),D(fe,{get open(){return e.open},onClose:i,get children(){var t=pe(),a=t.firstChild.nextSibling,c=a.nextSibling.firstChild,l=c.firstChild,u=l.nextSibling,d=c.nextSibling;return Y(a,D(B,{get children(){return[D(z,{get when(){return n.loading},children:"Loading..."}),D(z,{get when(){return n.error},children:"Something went wrong..."}),D(z,{get when(){return n()},get children(){var t=he();return G(r,t),g(()=>K(t,"src",function(e,t){const r=new URL(e.url);r.searchParams.append("k",t.k),r.searchParams.append("hl",t.hl??navigator.language),r.searchParams.append("theme",t.theme??We.theme),r.searchParams.append("size",t.size??We.size),r.searchParams.append("badge",t.badge??We.badge),r.searchParams.append("sv",t.sv??window.location.origin),e.logoUrl&&r.searchParams.append("logoUrl",e.logoUrl);return r.toString()}(n(),e.params))),t}})]}})),l.$$click=i,Y(l,D(ae,{})),u.$$click=async()=>{await o.refetch(),e.onReroll?.()},Y(u,D(ce,{})),Y(d,D(ue,{})),g(e=>{var t=`${(s()?n.latest?.smallWidth:n.latest?.width)??360}px`,r=`${(s()?n.latest?.smallHeight:n.latest?.height)??500}px`;return t!==e.e&&(null!=(e.e=t)?a.style.setProperty("--challenge-width",t):a.style.removeProperty("--challenge-width")),r!==e.t&&(null!=(e.t=r)?a.style.setProperty("--challenge-height",r):a.style.removeProperty("--challenge-height")),e},{e:void 0,t:void 0}),t}})}async function ye(e){try{const t=new URL(`${"https://a3t7umsqe6.execute-api.us-east-1.amazonaws.com"}/api/challenge?site_key=${e}`),r=await fetch(t),n=await r.json();return{url:n.url,width:n.width,height:n.height,smallWidth:n.small_width,smallHeight:n.small_height,logoUrl:n.logo_url}}catch(t){return console.error("failed to fetch",t),null}}q(["click"]),new TextEncoder;const we=new TextDecoder;class me extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}me.code="ERR_JOSE_GENERIC";(class extends me{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}).code="ERR_JWT_CLAIM_VALIDATION_FAILED";(class extends me{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}).code="ERR_JWT_EXPIRED";(class extends me{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}).code="ERR_JOSE_ALG_NOT_ALLOWED";(class extends me{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}).code="ERR_JOSE_NOT_SUPPORTED";(class extends me{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}).code="ERR_JWE_DECRYPTION_FAILED";(class extends me{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}).code="ERR_JWE_INVALID";(class extends me{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}).code="ERR_JWS_INVALID";class ve extends me{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}ve.code="ERR_JWT_INVALID";(class extends me{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}).code="ERR_JWK_INVALID";(class extends me{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}).code="ERR_JWKS_INVALID";(class extends me{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}).code="ERR_JWKS_NO_MATCHING_KEY";(class extends me{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}).code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";(class extends me{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}).code="ERR_JWKS_TIMEOUT";(class extends me{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}).code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const be=e=>{let t=e;t instanceof Uint8Array&&(t=we.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r})(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};function ke(e){if("string"!=typeof e)throw new ve("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new ve("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new ve("Invalid JWT");if(!t)throw new ve("JWTs must contain a payload");let n,o;try{n=be(t)}catch{throw new ve("Failed to base64url decode the payload")}try{o=JSON.parse(we.decode(n))}catch{throw new ve("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}(o))throw new ve("Invalid JWT Claims Set");return o}class xe{static HASH_ALGORITHM="SHA-256";static async solve(e){if(0===e.difficulty||e.difficulty>32)throw new Error("Invalid difficulty");let t=0;for(;;){const r=await this.hashSolution(e,t);if(this.isSolution(r,e.difficulty))return t;t++}}static isSolution(e,t){const r="0".repeat(t);return e.startsWith(r)}static async hashSolution(e,t){const r=this.toBeBytes(e.nonce,4),n=this.toBeBytes(e.difficulty,2),o=this.toBeBytes(e.timestamp,8,!0),s=this.toBeBytes(t,4),a=new Uint8Array([...r,...n,...o,...s]),i=await crypto.subtle.digest(this.HASH_ALGORITHM,a);return Array.from(new Uint8Array(i)).map(e=>e.toString(16).padStart(2,"0")).join("")}static toBeBytes(e,t,r=!1){const n=new ArrayBuffer(t),o=new DataView(n);switch(t){case 1:r?o.setInt8(0,Number(e)):o.setUint8(0,Number(e));break;case 2:r?o.setInt16(0,Number(e),!1):o.setUint16(0,Number(e),!1);break;case 4:r?o.setInt32(0,Number(e),!1):o.setUint32(0,Number(e),!1);break;case 8:r?o.setBigInt64(0,BigInt(e),!1):o.setBigUint64(0,BigInt(e),!1);break;default:throw new Error(`Unsupported byte size: ${t}`)}return new Uint8Array(n)}}var Ee=H('<svg class="size-6 text-green-600"fill=none stroke=currentColor viewBox="0 0 24 24"stroke-width=3><path stroke-linecap=round stroke-linejoin=round d="M5 13l4 4L19 7">');function _e(){return Ee()}var Ae=H('<svg class="animate-spin size-6 text-sky-500"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">');function Re(){return Ae()}var Se=H('<div class="size-6 border-2 border-gray-300 rounded bg-white hover:border-gray-400 transition-colors duration-200">'),Ce=H("<button type=button>");const Ie=e=>{const t=()=>{switch(e.state){case"blank":return Se();case"checking":return D(Re,{});case"checked":return D(_e,{})}};return s=Ce(),r=s,n="click",o=e.onClick,Array.isArray(o)?(r[`$$${n}`]=o[0],r[`$$${n}Data`]=o[1]):r[`$$${n}`]=o,Y(s,t),g(t=>{var r=e.disabled,n=`\n          inline-flex\n          items-center\n          justify-center\n          transition-opacity\n          duration-200\n          ${e.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}\n          ${e.className||""}\n        `.trim().replace(/\s+/g," ");return r!==t.e&&(s.disabled=t.e=r),n!==t.t&&F(s,t.t=n),t},{e:void 0,t:void 0}),s;var r,n,o,s};q(["click"]);var Te=H('<div class="rounded-lg w-[304px] h-[68px]"><div class="flex justify-between items-stretch h-full"><div class="pl-5 flex gap-2 flex-grow items-center"><span></span></div><div class="pr-3 flex flex-col justify-evenly items-center max-w-[35%]"><button type=button class="text-purple-500 text-xs self-end hover:underline cursor-pointer">Accessibility');function Oe(e){const t=[];y(()=>{const e=function(e){const t={mousemove:t=>{e.push({ts:Date.now(),event:{kind:"mousemovement",x:t.offsetX,y:t.offsetY}})},mouseup:t=>{e.push({ts:Date.now(),event:{kind:"mouseclick",mouse:"up"}})},mousedown:t=>{e.push({ts:Date.now(),event:{kind:"mouseclick",mouse:"down"}})},mouseenter:t=>{e.push({ts:Date.now(),event:{kind:"mouseenter",mouse:"in"}})},mouseleave:t=>{e.push({ts:Date.now(),event:{kind:"mouseenter",mouse:"out"}})},keyup:t=>{e.push({ts:Date.now(),event:{kind:"keypress",keyMove:"up",key:t.key}})},keydown:t=>{e.push({ts:Date.now(),event:{kind:"keypress",keyMove:"down",key:t.key}})}};return Object.entries(t).forEach(([e,t])=>{document.addEventListener(e,t)}),()=>{Object.entries(t).forEach(([e,t])=>{document.removeEventListener(e,t)})}}(t);return e});const r=async t=>{if("verified"!==e.state&&"verifying"!==e.state&&"challenging"!==e.state){e.onStateChange("verifying");try{const r=await async function(e){const t=await async function(e){try{const t="https://a3t7umsqe6.execute-api.us-east-1.amazonaws.com",r=await fetch(`${t}/api/challenge/proof-of-work?site_key=${e}`);if(200!==r.status)throw new Error(`getProofOfWorkChallenge returned status code ${r.status}`);return await r.json()}catch(t){return console.error(t),null}}(e);if(!t)return null;const r=ke(t.token),n=await xe.solve(r);return{challenge:t.token,solution:n}}(e.params.sitekey);if(!r)return console.error(r),e.onStateChange("error"),void e.onError();const n=await t(r);if(!n)return console.error(n),e.onStateChange("error"),void e.onError();e.onVerificationComplete(n)}catch(r){console.error(r),e.onStateChange("error"),e.onError()}}};return n=Te(),o=n.firstChild.firstChild,s=o.firstChild,a=o.nextSibling,i=a.firstChild,Y(o,D(Ie,{get state(){return function(e){switch(e){case"verified":return"checked";case"verifying":case"challenging":return"checking";default:return"blank"}}(e.state)},onClick:()=>r(r=>async function(e,t,r){try{const n=new URL("https://a3t7umsqe6.execute-api.us-east-1.amazonaws.com/api/challenge/process-pre-analysis"),o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_key:e,hostname:window.location.hostname,interactions:r,proof_of_work:t})});if(200!==o.status)throw new Error(`processPreAnalysis returned status code ${o.status}`);return await o.json()}catch(n){return console.error(n),null}}(e.params.sitekey,r,t))}),s),Y(s,()=>function(e){switch(e){case"verified":return"Verified!";case"failed":return"Try again...";case"expired":return"Expired, verify again.";case"error":return"Something went wrong.";case"verifying":case"challenging":return"Verifying...";default:return"I'm not a robot"}}(e.state)),Y(a,D(ue,{}),i),i.$$click=()=>r(t=>async function(e,t){try{const r=new URL("https://a3t7umsqe6.execute-api.us-east-1.amazonaws.com/api/challenge/process-accessibility"),n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_key:e,hostname:window.location.hostname,proof_of_work:t})});if(200!==n.status)throw new Error(`processAccessibility returned status code ${n.status}`);return await n.json()}catch(r){return console.error(r),null}}(e.params.sitekey,t)),g(()=>F(s,`${function(e){switch(e){case"verified":return"text-lg text-green-700 dark:text-green-300";case"failed":case"expired":return"text-md text-red-700 dark:text-red-300";case"error":return"text-md text-yellow-700 dark:text-yellow-300";case"verifying":case"challenging":return"text-lg text-purple-700 dark:text-purple-300";default:return"text-lg text-gray-700 dark:text-gray-300"}}(e.state)}`)),n;var n,o,s,a,i}q(["click"]);var Ne=H("<div class=gotcha-widget><div><div>");function Le(e){const[t,r]=p("blank");y(()=>{"expired"===e.liveState()&&r("expired")});const n=t=>{"success"===t.result?(r("verified"),e.callback?.(t.response.token)):r("challenging")},o=t=>{r("verified"),e.callback?.(t)},s=()=>{r("failed")},a=()=>{r("error"),e["error-callback"]?.()};return i=Ne(),c=i.firstChild,Y(l=c.firstChild,D(Oe,{params:e,get state(){return t()},onStateChange:r,onVerificationComplete:n,onError:a}),null),Y(l,D(j,{get when(){return"challenging"===t()||"verifying"===t()},get children(){return D(ge,{get open(){return"challenging"===t()},get params(){return{k:e.sitekey,hl:null,theme:e.theme??null,size:e.size??null,badge:e.badge??null,sv:window.location.origin,logoUrl:null}},onComplete:o,onFail:s,onError:a,onClose:()=>{"verified"!=t()&&"error"!=t()&&r("failed")}})}}),null),g(r=>{var n=e.theme,o=`inline-block bg-gray-50 dark:bg-gray-700 transition-colors duration-400 ${function(e){const t=(()=>{switch(e){case"verified":return"border-b-green-400 dark:border-b-green-600";case"failed":return"border-b-red-400 dark:border-b-red-600";case"expired":return"border-b-red-300 dark:border-b-red-700";case"error":return"border-b-yellow-400 dark:border-b-yellow-600";case"verifying":case"challenging":return"border-b-purple-400 dark:border-b-purple-600";default:return"border-b-gray-300 dark:border-b-gray-500"}})();return`border-2 border-gray-300 dark:border-gray-500 border-b-4 ${t} rounded`}(t())}`,s=`${function(e){switch(e){case"verified":return"bg-gradient-to-t from-green-300 to-transparent dark:from-green-900/50";case"failed":return"bg-gradient-to-t from-red-300 to-transparent dark:from-red-900/50";case"expired":return"bg-gradient-to-t from-red-200 to-transparent dark:from-red-900/40";case"error":return"bg-gradient-to-t from-yellow-300 to-transparent dark:from-yellow-900/50";case"verifying":case"challenging":return"bg-gradient-to-t from-purple-300 via-transparent to-transparent dark:from-purple-900 dark:via-transparent dark:to-transparent bg-[size:100%_200%] animate-pulse-gradient";default:return"bg-transparent"}}(t())}`;return n!==r.e&&K(i,"data-theme",r.e=n),o!==r.t&&F(c,r.t=o),s!==r.a&&F(l,r.a=s),r},{e:void 0,t:void 0,a:void 0}),i;var i,c,l}var $e=H("<div><textarea name=g-recaptcha-response style=display:none;>");class Je{widgets=[];constructor(){const{onload:e,render:t,hl:r}=re();if("explicit"===t)return;let n=document.getElementsByClassName("g-recaptcha")[0];if(void 0===n)return void console.error("Could not find 'g-recaptcha' tag. Add 'g-recaptcha' to your class name list.");const o=this.getParamsFromContainer(n);this.render(n,o)}render(e,t){const r="string"==typeof e?document.getElementById(e):e;if(null===r)return null;const n=this.widgets.length,o=0===n?"g-recaptcha-container":`g-recaptcha-container-${n}`,s=0===n?"g-recaptcha-response":`g-recaptcha-response-${n}`,a=(i=$e(),c=i.firstChild,K(i,"id",o),K(c,"id",s),i);var i,c;const l=function(){let e,t;const[r,n]=p("live");let o;const s=(s,a)=>{e=s,t={...a,"expired-callback":()=>{n("expired"),a["expired-callback"]?.()},callback:e=>{n("live"),a.callback?.(e),clearTimeout(o),o=setTimeout(()=>t?.["expired-callback"]?.(),3e4)},liveState:r},V(()=>D(Le,t),e)};return{render:s,reset:()=>{n("live"),clearTimeout(o),e&&(e.getElementsByClassName("gotcha-widget")[0]?.remove(),s(e,t))}}}(),u={...We,...t,callback:e=>{this.setResponseTextarea(e,n),t.callback?.(e)},"expired-callback":()=>{this.setResponseTextarea(null,n),t["expired-callback"]?.()},"error-callback":()=>{this.setResponseTextarea(null,n),t["error-callback"]?.()}};return V(()=>a,r),l.render(document.getElementById(o),u),this.widgets.push(l)-1}reset(e){const t=this.getWidget(e);t&&(t.reset(),this.setResponseTextarea(null,e))}getResponse(e){return this.getResponseElement(e)?.textContent??null}getResponseElement(e=0){return document.getElementById(0===e?"g-recaptcha-response":`g-recaptcha-response-${e}`)}setResponseTextarea(e,t){let r=this.getResponseElement(t);r&&(r.textContent=e??"")}getWidget(e=0){return this.widgets[e]}getParamsFromContainer(e){return{sitekey:e.getAttribute("data-sitekey")??"",theme:e.getAttribute("data-theme"),size:e.getAttribute("data-size"),tabindex:parseInt(e.getAttribute("data-tabindex")||"0")||0,callback:window[e.getAttribute("data-callback")??""]??null,"expired-callback":window[e.getAttribute("data-expired-callback")??""]??null,"error-callback":window[e.getAttribute("data-error-callback")??""]??null}}}const We={sitekey:"",theme:void 0,size:"normal",badge:"bottomright",tabindex:0,isolated:!1};new Promise((t,r)=>{const n=document.createElement("link");n.rel="stylesheet";const o=new URL(e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("api.js",document.baseURI).href).origin,s=new URL(`${o}/api.css`);n.href=s.toString(),n.onload=t,n.onerror=()=>r(new Error("CSS failed to load")),document.head.appendChild(n)}).then(()=>{window.grecaptcha=new Je;const{onload:e}=re();e?.()}).catch(e=>{console.error("Error initializing Gotcha:",e)})}();
