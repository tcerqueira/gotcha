<!doctype html>
<html>
    <head>
        <title>reCAPTCHA demo: Simple page</title>
        <script src="http://localhost:8080/api.js" async defer></script>
    </head>
    <body>
        <form id="login">
            <input type="text" name="username" />
            <input type="password" name="password" />
            <div
                class="gotcha"
                data-sitekey="4BdwFU84HLqceCQbE90-U5mw7f0erayega3nFOYvp1T5qXd8IqnTHJfsh675Vb2q"
            ></div>
            <br />
            <input type="submit" value="Submit" />
        </form>
        <script>
            document
                .getElementById("login")
                .addEventListener("submit", async (e) => {
                    e.preventDefault();
                    // verify client side
                    const verification = await gotcha.verify(
                        "cutadiY3N7fhf+JsB/cx4V8G4/eb9kJ0smVyNdjp5yKrpWUWV0ff5GzioM3y6p9Y",
                    );
                    console.log(verification);
                    // implicit input named `gotcha-response` stores the token
                    const formData = new FormData(e.target);
                    console.log(formData.get("gotcha-response"));
                });
        </script>
    </body>
</html>
